//水面线计算
[IsOutCompile] false
[IsOutParameter] false


[Resource] Coordinate
 [GeoCoordinateSystem]
  [L0]  108
  [Band] 3
 [/GeoCoordinateSystem]
[/Resource]

[Global]

    
 [SERIALS]
  [Name]  Q1	Q2	Q3  Z  //名称
  [type]  DISCHARGE       //时间序列类型
  [InterposeStyle]  line  //差值方式
   2013-5-8 0:01:00	8770	3730 3600    146.07
   2013-5-8 0:01:00	8770	3730 3600    146.07
   2013-5-8 0:01:00	8770	3730 3600    146.07
   2013-5-8 0:01:00	8770	3730 3600    146.07
 [/SERIALS]
 
 [serials]
  [name] wl1	wl2	wl3	wl4	wl5	wl6	wl7	wl8	wl9	pwl10	pwl11	pwl12	pwl13	pwl14	pwl15	pwl16	pwl17	pwl18	pwl19	pwl20
   2013/05/01 00:00	146.908	147.673	148.873	150.208	152.233	153.278	154.979	157.119	158.495	160.254	162.154	164.843	165.598	166.972	169.204	171.934	175.314	178.869	180.547	183.048
   2013/05/02 00:00	146.908	147.673	148.873	150.208	152.233	153.278	154.979	157.119	158.495	160.254	162.154	164.843	165.598	166.972	169.204	171.934	175.314	178.869	180.547	183.048
   2013/05/03 00:00	146.908	147.673	148.873	150.208	152.233	153.278	154.979	157.119	158.495	160.254	162.154	164.843	165.598	166.972	169.204	171.934	175.314	178.869	180.547	183.048
   2013/05/04 00:00	146.908	147.673	148.873	150.208	152.233	153.278	154.979	157.119	158.495	160.254	162.154	164.843	165.598	166.972	169.204	171.934	175.314	178.869	180.547	183.048
   2013/05/05 00:00	146.908	147.673	148.873	150.208	152.233	153.278	154.979	157.119	158.495	160.254	162.154	164.843	165.598	166.972	169.204	171.934	175.314	178.869	180.547	183.048
   2013/05/06 00:00	146.908	147.673	148.873	150.208	152.233	153.278	154.979	157.119	158.495	160.254	162.154	164.843	165.598	166.972	169.204	171.934	175.314	178.869	180.547	183.048
   2013/05/07 00:00	146.908	147.673	148.873	150.208	152.233	153.278	154.979	157.119	158.495	160.254	162.154	164.843	165.598	166.972	169.204	171.934	175.314	178.869	180.547	183.048
   2013/05/08 00:00	146.908	147.673	148.873	150.208	152.233	153.278	154.979	157.119	158.495	160.254	162.154	164.843	165.598	166.972	169.204	171.934	175.314	178.869	180.547	183.048
 [/serials]
[/Global]     

[define] oberveSerials <<wl1	wl2	wl3	wl4	wl5	wl6	wl7	wl8	wl9	pwl10	pwl11	pwl12	pwl13	pwl14	pwl15	pwl16	pwl17	pwl18	pwl19	pwl20>>
[define] oberveStations  <<S173	S246	S262	S275+1	S287+1	S292	S296+2	S303	S306	S310	S317	S323	S327	S331.1	S337.1	S341.2	S347	S354	S359	S366>>

[SOlver] Enkf
 [parameter]
   [ENKF_N] 100
   [PreStartTime] 2013/05/01 0:0   //预报的开始时间
   [PreEndTime]   2013/05/02 0:0    //预报的结束时间，默认值为无穷大
   [PretimeStep] 3600              //预报的时间间隔（s）
   [Pretimelong]  0 //10*3600                //预报时长
   [ObvTimeStep] 60*60              //观测数据的时间间隔，数据同化的时间间隔
   [IsHotStartPre] false           //模型是否为热启动
   [PrePredictionTime] 3*24*3600      //如果不是热启动，为获取初值计算的时长
   
   //观测数据
   [for] <i,j> <%oberveSerials> <%oberveStations>
   [Obvervation]
    [SerialName]  ~i
    [ObvErr] 0.005   //观测数据的标准差
    [VariablePos] 
      [VariableName] ETA
      [IndexName] ~j
      [TopoAttribute] Node1D
    [/VariablePos]
   [/Obvervation]
   [/for]
   //状态变量
   [StateVariable]
     [name] H1_ROUGHNESS
     [DAVariableType] Parameter
     [VariablePosition] Node1D
     [Error]  0.0002      //参数的标准差
     [max] 0.07
     [min] 0.020
   [/StateVariable]
   
   
   [StateVariable]
     [name] ETA
     [DAVariableType] Foreast
     [VariablePosition] Node1D
     [Error]  0.01    //预测数据的标准差
     [IsResetToModel] false
   [/StateVariable]

     
 [/parameter]
 
 [file] model.swm
 
[/solver]